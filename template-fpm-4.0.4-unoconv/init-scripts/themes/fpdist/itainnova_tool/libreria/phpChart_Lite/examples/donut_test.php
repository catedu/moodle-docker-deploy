<?php
require_once("../conf.php");
?>
<!DOCTYPE HTML>
<html>
    <head>
	<style type="text/css">
	  .jqplot-cursor-legend {
	    width: 160px;
	    font-family: "Courier New";
	    font-size: 0.85em;
	  }

	  td.jqplot-cursor-legend-swatch {
	    width: 1.3em;
	  }

	  div.jqplot-cursor-legend-swatch {
/*      width: 15px;*/
	  }
	</style>

    </head>
    <body>
        <div><span> </span><span id="info1b"></span></div>

<?php
    

    $s1 = array(array('a',2), array('b',8), array('c',14), array('d',20));
    $s2 = array(array('a', 4), array('b', 12), array('c', 6), array('d', 3));
    $s3 = array(array('a', 2), array('b', 1), array('c', 3), array('d', 3));
    $s4 = array(array('a', 4), array('b', 3), array('c', 2), array('d', 1));
    $s5 = array(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Chart 1 Example
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    $pc = new C_PhpChartX(array($s1),'chart1');
   
    $pc->set_series_default(array('renderer'=>'plugin::DonutRenderer'));
    $pc->set_legend(array('show'=>true));

    $pc->add_custom_js("
        $('#chart1').bind('jqplotDataClick',
            function (ev, seriesIndex, pointIndex, data) {
                $('#info1').html('series: '+seriesIndex+', point: '+pointIndex+', data: '+data);
            }
        );
    ");
    echo '<div>You clicked: <span id="info1">Nothing</span></div>';
    $pc->draw(300,300);
    
    
/*    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Chart 2 Example
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    $pc = new C_PhpChartX(array($s1,$s2),'chart2');

    $pc->set_series_default(array(
		'renderer'=>'plugin::DonutRenderer',
		'rendererOptions'=>array('sliceMargin'=>2,'innerDiameter'=>110,'startAngle'=>-90)));
    echo '<div>Moused over: <span id="info2">Nothing</span></div>';
    $pc->add_custom_js("
        $('#chart2').bind('jqplotDataHighlight',
            function (ev, seriesIndex, pointIndex, data) {
                $('#info2').html('series: '+seriesIndex+', point: '+pointIndex+', data: '+data);
            }
        );

        $('#chart2').bind('jqplotDataUnhighlight',
            function (ev) {
                $('#info2').html('Nothing');
            }
        ); 
    ");
    $pc->draw(300,300);

    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Chart 3 Example
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    $pc = new C_PhpChartX(array($s1,$s2,$s3),'chart3');
  
    $pc->set_series_default(array(
                'renderer'=>'plugin::DonutRenderer',
                'rendererOptions'=>array('sliceMargin'=>2,'innerDiameter'=>110,'startAngle'=>-90,'highlightMouseDown'=>true),
                'shadow'=>false
        ));
    
    $pc->set_legend(array('show'=>true,'location'=>'e','placement'=>'outside'));
    $pc->set_capture_right_click(true);
    $pc->add_custom_js("
        $('#chart3').bind('jqplotDataRightClick',
            function (ev, seriesIndex, pointIndex, data) {
                $('#info3').html('series: '+seriesIndex+', point: '+pointIndex+', data: '+data);
            }
        );
    ");
    
    echo '<div>You right clicked: <span id="info3">Nothing</span></div>';
    $pc->draw(300,300);

    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Chart 4 Example
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    $pc = new C_PhpChartX(array($s1,$s2,$s3,$s4),'chart4');

    $pc->set_series_default(array('renderer'=>'plugin::DonutRenderer'));

    $pc->set_legend(array(
		'show'=>true,
		'location'=>'s',
		'placement'=>'outside',
		'rendererOptions'=>array('numberRows'=>1)));
    $pc->set_capture_right_click(true);
    $pc->draw(300,300);

    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Chart 5 Example
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    $pc = new C_PhpChartX(array($s5),'chart5');
    $pc->set_series_default(array('renderer'=>'plugin::DonutRenderer'));
    $pc->draw(450,450);

*/
    ?>

    </body>
</html>